<html>
    <head>
        <meta charset="utf-8">
        <title>phigros</title>
        <link rel="icon" href="icon.png" sizes="32x32">
        <style>
            @font-face {
                font-family:font;
                src:url("font.ttf");
            }
            body{user-select:none;color:white;font-size:2rem;font-weight:900;font-family:font}body::-webkit-scrollbar{width:3px;height:0px;background-color:rgb(0,0,0)}body::-webkit-scrollbar-thumb{background-color:rgb(0,145,133);border-radius:10px}.kuangjia{position:relative;height:10px;width:1020px;left:0px;top:0px;background-color:red;border:5px solid rgb(0,0,0);z-index:-10;opacity:1}.back-img{position:fixed;left:-200px;top:-50px;z-index:-100;min-height:100%;filter:blur(30px)}.title{transform:skew(-15deg);position:absolute;height:200px;width:600px;left:-100px;top:60px;background-color:#383838;border-right:4px solid white;z-index:1;opacity:0.8}.title-2{transform:skew(-15deg);position:absolute;height:160px;width:600px;left:500px;top:80px;background-color:#383838;opacity:0.8}.title-img{position:absolute;height:150px;left:20px;top:85px;z-index:2;border-radius:30px}.title-text{position:absolute;height:140px;width:270px;left:200px;top:95px;line-height:60px;z-index:2;font-weight:900}.title-2-text{position:absolute;height:120px;width:400px;left:620px;top:100px;font-size:1.5rem;font-weight:100;line-height:40px;z-index:2}.mode{position:absolute;z-index:-1;left:181px;top:81px}#mode{position:absolute;left:205px;font-size:1.4rem;width:30px;text-align:center}.list{position:relative;width:430px;height:120px;margin-left:60px;transform:skew(-15deg);font-weight:100;margin-bottom:100px;display:inline-block}.list-img-f{position:absolute;overflow:hidden;width:180px;height:120px}.list-img{position:absolute;transform:skew(15deg);max-height:100%;left:-17px}.list-lt{position:absolute;background-color:white;height:20px;width:30px;left:-30px}.list-lt h{position:absolute;transform:skew(15deg);font-size:0.95rem;color:black;left:1px;top:-1px;width:26px;text-align:center;font-weight:900}.list-lb{background-color:red;position:absolute;width:60px;height:50px;bottom:0px;left:-30px}.list-lb h{position:absolute;transform:skew(15deg);line-height:20px;font-size:1rem;left:6px;top:5px;width:80px}.list-lb h strong{position:absolute;left:-4px;font-size:1.2rem}.list-right{position:absolute;background-color:#383838;width:250px;height:100px;top:10px;left:180px;opacity:0.8}.list-right img{position:absolute;max-height:60%;transform:skew(15deg);bottom:10px;left:5px}.list-right h{position:absolute;left:37px;width:160px;top:5px;line-height:25px;transform:skew(15deg)}.list-right h h-1{font-size:1rem;position:relative;left:10px;width:200px;text-align:center;display:inline-block}.list-right h h-2{font-size:1.5rem;position:relative;left:30px;width:160px;text-align:center;display:inline-block}.list-right h h-3{font-size:1.3rem;position:relative;left:30px;width:160px;text-align:center;display:inline-block}.list-right h hr{margin-top:5px;margin-bottom:3px;position:relative;left:30px}.bottom-info{transform:skew(-15deg);position:relative;height:80px;width:600px;opacity:0.8;margin:auto;margin-bottom:100px;font-size:1.7rem;line-height:40px}.bottom-info .col{position:absolute;height:100%;width:610px;top:0px;left:-5px;background-image:linear-gradient(5deg,#3C00FF,#00FF09);z-index:1}.bottom-info .bac{position:absolute;height:100%;width:100%;left:0px;top:0px;background-color:#383838;z-index:2}.bottom-info .info-text{text-align:center;width:600px;display:inline-block;z-index:3;position:absolute}.bottom-info .ins{transform:skew(15deg);text-align:center;width:80px;height:10px;right:-10px;bottom:0px;font-size:0.7rem;font-weight:100;opacity:0.35;-webkit-text-stroke:0.5px rgb(0,0,0);display:inline-block;position:absolute}
        </style>
    </head>
    <body>
        <img src="" alt="back-img" class="back-img">
        <div class="title"></div>
        <div class="title-2"></div>
        <img src="icon.png" alt="title-img" class="title-img">
        <div class="title-text">Phigros<br>RankingScore查询</div>
        <div class="title-2-text">Player:&ensp;<h id="player-name">——</h><br>RankingScore:&ensp;<h id="RS">——</h><br>ChallengeMode:<img src="" class="mode"><h id="mode">—</h></div>
        <div style="position: relative;height: 320px;"></div>
        <script>
            const token=location.hash.slice(1);const server_url="http://127.0.0.1:9092";document.getElementById("player-name").innerText="null";if(token.length==25){document.getElementById("player-name").innerText=getQueryString("name");document.getElementsByClassName("back-img")[0].src="res/back/1 ("+randomNum(1,21)+").png";let deg=0;let color1="";let color2="";const ran=randomNum(1,4);if(ran==1){color1="#FF0000";color2="#9AFF00"}else if(ran==2){color1="#FF00EF";color2="#6600FF"}else if(ran==3){color1="#FFFF00";color2="#FF1A00"}else if(ran==4){color1="#3C00FF";color2="#00FF09"}deg=randomNum(0,185);fetch(server_url+'/saveUrl/'+token).then(response=>response.text()).then(data=>{const json_data=JSON.parse(data);document.getElementById("RS").innerHTML=json_data["RKS"];document.getElementById("mode").innerHTML=parseInt((json_data["课题分"]+"").substring(1,3))+"";document.getElementsByClassName("mode")[0].src='res/challengemode/'+(json_data["课题分"]+"").substring(0,1)+".png";if(true){const url=server_url+'/b19/'+json_data.saveUrl;fetch(url).then(response=>response.text()).then(data=>{const json_use=JSON.parse(data);for(let n=0;n<json_use.length;n++){let phi=n+"";if(phi=="0"){phi="Phi"}else{phi="#"+phi}add_card(json_use[n]["songId"],json_use[n]["定数"],json_use[n]["score"],json_use[n]["acc"],json_use[n]["单曲rks"],json_use[n]["level"],phi,json_use[n]["fc"])}const bottom_info=document.createElement("div");bottom_info.className="bottom-info";bottom_info.innerHTML='<h class="info-text">Create By Yunzai-Bot & PhigrosLibrary-Plugin<br>UI Designer: 七星QXX WalkerTian</h><div class="col"></div><div class="bac"></div><h class="ins"></h>';document.body.appendChild(bottom_info);document.getElementsByClassName("col")[0].setAttribute("style",'background-image: linear-gradient('+deg+'deg, '+color1+', '+color2+');');document.getElementsByClassName("ins")[0].innerText="彩蛋("+deg+"."+ran+")";const kuangjia=document.createElement("div");kuangjia.className="kuangjia";document.body.appendChild(kuangjia)})}});function add_card(name,at,score,acc,rks,level,phi,fc){if(acc==100){acc_png="phi.png"}else if(fc==true){acc_png="fc.png"}else if(fc==false&&score>=960000){acc_png="v.png"}else if(score<960000&&score>=920000){acc_png="s.png"}else if(score<920000&&score>=880000){acc_png="a.png"}else if(score<880000&&score>=800000){acc_png="b.png"}else if(score<800000&&score>=700000){acc_png="c.png"}else{acc_png="f.png"}let div=document.createElement("div");div.className="list";div.innerHTML='<div class="list-img-f"><img src="res/illustration/'+name+'.png" class="list-img"></div><div class="list-lt"><h>'+phi+'</h></div><div class="list-lb"><h>'+level+' '+at+'<br><strong>'+rks.toFixed(2)+'</strong></h></div><div class="list-right"><img src="res/rank/'+acc_png+'"><h><h-1>'+name.split(".")[0]+'</h-1><br><h-2>'+score+'</h-2><hr><h-3>'+acc.toFixed(2)+'%</h-3></h></div>';document.body.appendChild(div)}}function randomNum(minNum,maxNum){switch(arguments.length){case 1:return parseInt(Math.random()*minNum+1,10);break;case 2:return parseInt(Math.random()*(maxNum-minNum+1)+minNum,10);break;default:return 0;break}}function getQueryString(name){const url_string=window.location.href;const url=new URL(url_string);return url.searchParams.get(name)}
        </script>
    </body>
</html>